@page "/"
@using TourBookingBlazor.Models

<div class="booking-page">
    <div class="container-fluid">
        <div class="row min-vh-100">
            <!-- Left side - Hero/Image section -->
            <div class="col-lg-7 hero-section d-none d-lg-block">
                <div class="hero-content">
                    <div class="hero-overlay">
                        <h1 class="hero-title">Discover Amazing Tours</h1>
                        <p class="hero-subtitle">Book your perfect adventure or manage your existing reservations</p>
                        <div class="hero-features">
                            <div class="feature-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Unique Destinations</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-users"></i>
                                <span>Expert Guides</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-star"></i>
                                <span>5-Star Experience</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right side - Booking form -->
            <div class="col-lg-5 form-section">
                <div class="form-container">
                    <div class="form-header">
                        <h2 class="form-title">@(_isBooking ? "Book Your Tour" : "Cancel Booking")</h2>
                        <p class="form-description">@(_isBooking ? "Fill in your details to secure your spot" : "Enter your booking details to cancel")</p>
                    </div>

                    <div class="booking-form">
                        <!-- Action Type Toggle -->
                        <div class="form-group action-toggle">
                            <RadzenLabel Text="What would you like to do?" class="form-label-modern" />
                            <div class="toggle-container">
                                <div class="toggle-wrapper">
                                    <span class="toggle-label @(!_isBooking ? "active" : "")">
                                        <i class="fas fa-times-circle"></i>
                                        Cancel Booking
                                    </span>
                                    <div class="switch-container">
                                        <RadzenSwitch @bind-Value="_isBooking" class="custom-switch" />
                                    </div>
                                    <span class="toggle-label @(_isBooking ? "active" : "")">
                                        <i class="fas fa-calendar-check"></i>
                                        Book Tour
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Name Field -->
                        <div class="form-group">
                            <RadzenLabel Text="Full Name" class="form-label-modern" />
                            <div class="input-group-modern">
                                <i class="fas fa-user input-icon"></i>
                                <RadzenTextBox @bind-Value="_typedName"
                                               Placeholder="Enter your full name"
                                               class="form-input-modern" />
                            </div>
                        </div>

                        <!-- Email Field -->
                        <div class="form-group">
                            <RadzenLabel Text="Email Address" class="form-label-modern" />
                            <div class="input-group-modern">
                                <i class="fas fa-envelope input-icon"></i>
                                <RadzenTextBox @bind-Value="_typedEmail"
                                               Placeholder="Enter your email address"
                                               class="form-input-modern" />
                            </div>
                        </div>

                        <!-- Tour Selection -->
                        <div class="form-group">
                            <RadzenLabel Text="Select Tour" class="form-label-modern" />
                            <div class="input-group-modern">
                                <i class="fas fa-map input-icon"></i>
                                <RadzenDropDown TValue="TourView"
                                                Data="Tours"
                                                @bind-Value="_selectedTour"
                                                TextProperty="@nameof(TourView.Name)"
                                                Placeholder="Choose your tour"
                                                class="form-dropdown-modern" />
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="form-actions">
                            <RadzenButton Text="@(_isBooking ? "Book Tour Now" : "Cancel Booking")"
                                          ButtonStyle="@(_isBooking ? ButtonStyle.Primary : ButtonStyle.Danger)"
                                          class="btn-primary-modern"
                                          Click="HandleSubmit">
                                <i class="fas @(_isBooking ? "fa-calendar-plus" : "fa-calendar-times") me-2"></i>
                            </RadzenButton>
                            <RadzenButton Text="Reset Form"
                                          ButtonStyle="ButtonStyle.Light"
                                          class="btn-secondary-modern"
                                          Click="HandleReset">
                                <i class="fas fa-redo me-2"></i>
                            </RadzenButton>
                        </div>
                    </div>

                    <!-- Trust indicators -->
                    <div class="trust-indicators">
                        <div class="trust-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>Secure Booking</span>
                        </div>
                        <div class="trust-item">
                            <i class="fas fa-phone"></i>
                            <span>24/7 Support</span>
                        </div>
                        <div class="trust-item">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Best Price Guarantee</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    @@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css');

    * {
        font-family: 'Inter', sans-serif;
    }

    .booking-page {
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
        url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80') center/cover;
        position: relative;
    }

    .hero-content {
        height: 100%;
        display: flex;
        align-items: center;
        padding: 0 3rem;
    }

    .hero-overlay {
        color: white;
        max-width: 500px;
    }

    .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
    }

    .hero-subtitle {
        font-size: 1.25rem;
        margin-bottom: 2.5rem;
        opacity: 0.9;
        line-height: 1.6;
    }

    .hero-features {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .feature-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        font-size: 1.1rem;
    }

    .feature-item i {
        width: 20px;
        color: #ffd700;
    }

    /* Form Section */
    .form-section {
        background: white;
        display: flex;
        align-items: center;
        min-height: 100vh;
    }

    .form-container {
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
        padding: 2rem;
    }

    .form-header {
        text-align: center;
        margin-bottom: 2.5rem;
    }

    .form-title {
        font-size: 2.25rem;
        font-weight: 700;
        color: #1a202c;
        margin-bottom: 0.5rem;
    }

    .form-description {
        color: #718096;
        font-size: 1.1rem;
    }

    /* Form Groups */
    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-label-modern {
        display: block;
        font-weight: 600;
        color: #2d3748;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
    }

    /* Action Toggle */
    .action-toggle {
        margin-bottom: 2rem;
    }

    .toggle-container {
        background: #f7fafc;
        padding: 1rem;
        border-radius: 12px;
        border: 2px solid #e2e8f0;
    }

    .toggle-wrapper {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
    }

    .toggle-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 500;
        color: #718096;
        transition: all 0.3s ease;
        padding: 0.5rem;
        border-radius: 8px;
        flex: 1;
        text-align: center;
    }

    .toggle-label.active {
        color: #2d3748;
        background: white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .switch-container {
        flex-shrink: 0;
    }

    /* Input Groups */
    .input-group-modern {
        position: relative;
        display: flex;
        align-items: center;
    }

    .input-icon {
        position: absolute;
        left: 1rem;
        color: #a0aec0;
        z-index: 10;
        pointer-events: none;
    }

    .form-input-modern,
    .form-dropdown-modern {
        width: 100%;
        padding: 1rem 1rem 1rem 2.75rem !important;
        border: 2px solid #e2e8f0 !important;
        border-radius: 12px !important;
        font-size: 1rem !important;
        transition: all 0.3s ease !important;
        background: white !important;
    }

    .form-input-modern:focus,
    .form-dropdown-modern:focus {
        border-color: #667eea !important;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
        outline: none !important;
    }

    /* Form Actions */
    .form-actions {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        margin-top: 2rem;
    }

    .btn-primary-modern {
        width: 100% !important;
        padding: 1rem 1.5rem !important;
        font-size: 1.1rem !important;
        font-weight: 600 !important;
        border-radius: 12px !important;
        border: none !important;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        color: white !important;
        transition: all 0.3s ease !important;
    }

    .btn-primary-modern:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3) !important;
    }

    .btn-secondary-modern {
        width: 100% !important;
        padding: 1rem 1.5rem !important;
        font-size: 1rem !important;
        font-weight: 500 !important;
        border-radius: 12px !important;
        border: 2px solid #e2e8f0 !important;
        background: white !important;
        color: #718096 !important;
        transition: all 0.3s ease !important;
    }

    .btn-secondary-modern:hover {
        border-color: #cbd5e0 !important;
        background: #f7fafc !important;
    }

    /* Trust Indicators */
    .trust-indicators {
        display: flex;
        justify-content: space-around;
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid #e2e8f0;
    }

    .trust-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        color: #718096;
        font-size: 0.85rem;
        text-align: center;
    }

    .trust-item i {
        color: #48bb78;
        font-size: 1.25rem;
    }

    /* Responsive Design */
    @@media (max-width: 991.98px) {
    .booking-page {
        background: white;
    }

    .form-section {
        min-height: auto;
        padding: 2rem 0;
    }

    .hero-title {
        font-size: 2.5rem;
    }

    .form-container {
        padding: 1rem;
    }

    .form-actions {
        margin-top: 1.5rem;
    }

    .trust-indicators {
        flex-direction: column;
        gap: 1rem;
    }

    .trust-item {
        flex-direction: row;
        justify-content: center;
    }
    }

    @@media (max-width: 576px) {
    .hero-title {
        font-size: 2rem;
    }

    .form-title {
        font-size: 1.75rem;
    }

    .toggle-wrapper {
        flex-direction: column;
        gap: 1rem;
    }

    .toggle-label {
        text-align: center;
    }
    }

    /* Custom Radzen overrides */
    .rz-switch .rz-switch-handle {
        background: white !important;
        border: 2px solid #e2e8f0 !important;
    }

    .rz-switch.rz-switch-checked {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    }

    .rz-switch.rz-switch-checked .rz-switch-handle {
        border-color: white !important;
    }

    /* Fix dropdown styling */
    .rz-dropdown {
        border: none !important;
        background: transparent !important;
    }

    .rz-dropdown .rz-dropdown-label {
        padding: 1rem 2.75rem 1rem 2.75rem !important;
        border: 2px solid #e2e8f0 !important;
        border-radius: 12px !important;
        font-size: 1rem !important;
        background: white !important;
        color: #4a5568 !important;
        width: 100% !important;
        min-height: auto !important;
        display: flex !important;
        align-items: center !important;
    }

    .rz-dropdown:focus-within .rz-dropdown-label,
    .rz-dropdown.rz-state-focused .rz-dropdown-label {
        border-color: #667eea !important;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
        outline: none !important;
    }

    .rz-dropdown .rz-dropdown-items {
        border: 1px solid #e2e8f0 !important;
        border-radius: 8px !important;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1) !important;
        margin-top: 4px !important;
    }

    .rz-dropdown .rz-dropdown-item {
        padding: 0.75rem 1rem !important;
        font-size: 1rem !important;
    }

    .rz-dropdown .rz-dropdown-item:hover {
        background: #f7fafc !important;
        color: #2d3748 !important;
    }

    .rz-dropdown .rz-dropdown-item.rz-state-highlight {
        background: #667eea !important;
        color: white !important;
    }
</style>